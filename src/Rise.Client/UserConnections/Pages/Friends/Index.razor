@page "/friends"
@using Rise.Client.Shared
@using Rise.Client.UserConnections.Components.Friends
@layout MainLayout
<div class="space-y-4">
    <FriendsHeader OnBack="GoBack" />

    <section class="bg-neutral-100 px-4 pt-4 pb-2 rounded-3xl shadow-sm">
        <FriendsTabs Selected="@_selectedTab" OnChange="ChangeTab" />
        <FriendSearch @bind-Value="_query" />
    </section>

    <FriendList Items="@_filteredConnections"
                OnAccept="AcceptFriendRequest"
                OnReject="RejectFriendRequest"
                OnCancel="CancelFriendRequest"
                OnAdd="AddFriend"
                OnOpenChat="OpenChat"
                OnRemove="RemoveFriend" />
</div>

@code {
    private string? _query;
    private string? Query
    {
        get => _query;
        set { _query = value; ApplyQuery(); }
    }
}
